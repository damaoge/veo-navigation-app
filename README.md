# Veo å¯¼èˆªåº”ç”¨

åŸºäºé«˜å¾·åœ°å›¾SDKçš„Androidå¯¼èˆªåº”ç”¨ï¼Œæ”¯æŒä¸¤æ¬¡ç‚¹å‡»è®¾ç½®èµ·ç‚¹å’Œç»ˆç‚¹çš„ç²¾ç¡®å¯¼èˆªæ¨¡å¼ã€‚

## æ ¸å¿ƒåŠŸèƒ½

- ğŸ—ºï¸ **ä¸¤æ¬¡ç‚¹å‡»å¯¼èˆª**: ç¬¬ä¸€æ¬¡ç‚¹å‡»è®¾ç½®èµ·ç‚¹ï¼Œç¬¬äºŒæ¬¡ç‚¹å‡»è®¾ç½®ç»ˆç‚¹
- ğŸ›£ï¸ **å®æ—¶è·¯å¾„è·Ÿè¸ª**: ç»¿è‰²çº¿æ¡æ˜¾ç¤ºå¯¼èˆªè¿‡ç¨‹ä¸­çš„å®é™…è¡Œé©¶è·¯çº¿
- ğŸ“Š **ç²¾ç¡®ç»Ÿè®¡**: æ˜¾ç¤ºå®é™…è¡Œé©¶è·ç¦»ã€æ—¶é—´å’Œå®æ—¶é€Ÿåº¦
- ğŸ“ **å®šä½æœåŠ¡**: åŸºäºé«˜å¾·åœ°å›¾SDKçš„ç²¾ç¡®å®šä½
- ğŸ§­ **è·¯çº¿è§„åˆ’**: æ™ºèƒ½è·¯å¾„è§„åˆ’å’Œå¯¼èˆªæŒ‡å¼•

## æŠ€æœ¯æ ˆ

- **å¼€å‘è¯­è¨€**: Kotlin
- **åœ°å›¾æœåŠ¡**: é«˜å¾·åœ°å›¾SDK
- **æœ€ä½ç‰ˆæœ¬**: Android 7.0 (API 24)

## é…ç½®è¯´æ˜

### é«˜å¾·åœ°å›¾APIé…ç½®
1. ä»[é«˜å¾·å¼€æ”¾å¹³å°](https://lbs.amap.com/)è·å–APIå¯†é’¥
2. åœ¨`local.properties`ä¸­é…ç½®:
   ```properties
   AMAP_API_KEY=your_amap_api_key_here
   ```
3. APIå¯†é’¥å°†åœ¨æ„å»ºè¿‡ç¨‹ä¸­è‡ªåŠ¨æ³¨å…¥åˆ°`AndroidManifest.xml`


## é¡¹ç›®æ¶æ„

### ğŸ“ é¡¹ç›®ç»“æ„
```
app/src/main/java/com/veo/navigationapp/
â”œâ”€â”€ MainActivityNew.kt          # ä¸»æ´»åŠ¨ï¼ˆé‡æ„ç‰ˆï¼‰
â”œâ”€â”€ extensions/                 # æ‰©å±•æ–¹æ³•ä»£ç ç»„ç»‡
â”‚   â”œâ”€â”€ LocationExtensions.kt   # ä½ç½®ç›¸å…³åŠŸèƒ½
â”‚   â”œâ”€â”€ MapExtensions.kt        # åœ°å›¾æ“ä½œå’Œäº¤äº’
â”‚   â”œâ”€â”€ NavigationExtensions.kt # å¯¼èˆªé€»è¾‘å’Œè·¯çº¿è§„åˆ’
â”‚   â”œâ”€â”€ LogExtensions.kt        # æ—¥å¿—å’Œè°ƒè¯•å·¥å…·
â”‚   â””â”€â”€ UIExtensions.kt         # UIæ›´æ–°å’Œç”¨æˆ·äº¤äº’
â”œâ”€â”€ service/                    # åœ°å›¾æœåŠ¡æŠ½è±¡å±‚
â”‚   â”œâ”€â”€ IMapService.kt          # åœ°å›¾æœåŠ¡æ¥å£
â”‚   â”œâ”€â”€ AMapService.kt          # é«˜å¾·åœ°å›¾å®ç°
â”‚   â””â”€â”€ MapServiceFactory.kt    # æœåŠ¡å·¥å‚
â””â”€â”€ utils/                      # å·¥å…·ç±»
    â”œâ”€â”€ LocationHelper.kt       # ä½ç½®ç®¡ç†
    â””â”€â”€ DirectionsHelper.kt     # è·¯çº¿è®¡ç®—
```

### ğŸ—ï¸ æ¶æ„æ¨¡å¼
é¡¹ç›®é‡‡ç”¨**æ¨¡å—åŒ–æ‰©å±•æ–¹æ³•æ¶æ„**:

- **MainActivityNew**: æ ¸å¿ƒæ´»åŠ¨ï¼ŒèŒè´£æœ€å°åŒ–
- **æ‰©å±•æ–¹æ³•**: æŒ‰é¢†åŸŸåˆ†ç»„çš„åŠŸèƒ½ï¼ˆä½ç½®ã€åœ°å›¾ã€å¯¼èˆªç­‰ï¼‰
- **æœåŠ¡å±‚**: ä¸åŒåœ°å›¾æä¾›å•†çš„æŠ½è±¡
- **å·¥å…·ç±»**: ä½ç½®å’Œè·¯çº¿çš„å¯é‡ç”¨ç»„ä»¶

## APIä½¿ç”¨æŒ‡å—

### ğŸ—ºï¸ åœ°å›¾åˆå§‹åŒ–
```kotlin
// åˆå§‹åŒ–åœ°å›¾æœåŠ¡
val mapService = MapServiceFactory.getMapService(MapServiceFactory.MapProvider.AMAP)
(mapService as AMapService).setAMap(aMap)
mapService.initializeMap()

// åŸºæœ¬åœ°å›¾æ“ä½œ
mapService.setOnMapClickListener { latLng -> handleMapClick(latLng) }
val marker = mapService.addMarker(latLng, "æ ‡é¢˜", markerType)
mapService.displayRoute(routePoints, color)
```

### ğŸ“ ä½ç½®ä¸å¯¼èˆª
```kotlin
// ä½ç½®æ›´æ–°
startLocationUpdates()
stopLocationUpdates()

// è·¯çº¿è®¡ç®—å’Œå¯¼èˆª
calculateRoute(originLocation, destinationLocation) { route ->
    if (route != null) {
        displayRoute(route)
        startNavigation()
    }
}

// å¯¼èˆªæ§åˆ¶
startNavigation()
stopNavigation()
```

## å¼€å‘æŒ‡å—

### ğŸš€ å¿«é€Ÿå¼€å§‹

1. **å…‹éš†ä»“åº“**
   ```bash
   git clone <repository-url>
   ```

## ä½¿ç”¨è¯´æ˜

### ä¸¤æ¬¡ç‚¹å‡»å¯¼èˆªæ¨¡å¼
1. **å¯åŠ¨åº”ç”¨**: æˆäºˆä½ç½®æƒé™åï¼Œç•Œé¢æ˜¾ç¤º"è¯·ç‚¹å‡»åœ°å›¾è®¾ç½®èµ·ç‚¹"
2. **è®¾ç½®èµ·ç‚¹**: åœ¨åœ°å›¾ä»»æ„ä½ç½®ç‚¹å‡»è®¾ç½®èµ·ç‚¹ï¼ˆå‡ºç°è“è‰²æ ‡è®°ï¼‰
3. **è®¾ç½®ç»ˆç‚¹**: ç•Œé¢æç¤º"è¯·ç‚¹å‡»åœ°å›¾è®¾ç½®ç»ˆç‚¹"ï¼Œå†æ¬¡ç‚¹å‡»åœ°å›¾è®¾ç½®ç»ˆç‚¹ï¼ˆå‡ºç°çº¢è‰²æ ‡è®°ï¼‰
4. **å¼€å§‹å¯¼èˆª**: ç‚¹å‡»"å¼€å§‹å¯¼èˆª"æŒ‰é’®ï¼Œç³»ç»Ÿå°†è§„åˆ’è·¯çº¿å¹¶å¼€å§‹å¯¼èˆª
5. **å®æ—¶è·Ÿè¸ª**: å¯¼èˆªè¿‡ç¨‹ä¸­ï¼Œç»¿è‰²çº¿æ¡å°†å®æ—¶æ˜¾ç¤ºä½ çš„å®é™…è·¯å¾„
6. **æŸ¥çœ‹ç»Ÿè®¡**: ç‚¹å‡»"åœæ­¢å¯¼èˆª"æŸ¥çœ‹å®é™…è¡Œé©¶è·ç¦»ã€æ—¶é—´å’Œé€Ÿåº¦ç»Ÿè®¡

### åŠŸèƒ½äº®ç‚¹
- **ç²¾ç¡®èµ·ç‚¹æ§åˆ¶**: ç‹¬ç«‹äºGPSå½“å‰ä½ç½®ï¼Œè‡ªç”±è®¾ç½®èµ·ç‚¹
- **å®æ—¶è·¯å¾„ç»˜åˆ¶**: ç»¿è‰²çº¿æ¡æ˜¾ç¤ºå®é™…è¡Œé©¶è·¯çº¿
- **çœŸå®ç»Ÿè®¡æ•°æ®**: åŸºäºå®é™…ç§»åŠ¨è½¨è¿¹è®¡ç®—è·ç¦»å’Œé€Ÿåº¦
- **æ™ºèƒ½é€Ÿåº¦æ£€æµ‹**: é™æ­¢æ—¶æ˜¾ç¤ºé€Ÿåº¦ä¸º0ï¼Œç§»åŠ¨æ—¶æ˜¾ç¤ºå®æ—¶é€Ÿåº¦

## é‡è¦æç¤º

- ğŸ“± **çœŸæœºæµ‹è¯•**: ä½ç½®æœåŠ¡éœ€è¦åœ¨çœŸå®è®¾å¤‡ä¸Šæµ‹è¯•
- ğŸ”’ **æƒé™å¤„ç†**: ç¡®ä¿å·²æˆäºˆä½ç½®æƒé™
- ğŸŒ **ç½‘ç»œè¿æ¥**: éœ€è¦ç½‘ç»œè¿æ¥æ¥åŠ è½½åœ°å›¾å’Œè§„åˆ’è·¯çº¿

## æ—¥å¿—ç³»ç»Ÿ

### ğŸ“‹ æ—¥å¿—åŠŸèƒ½
åº”ç”¨åŒ…å«å®Œæ•´çš„æ—¥å¿—ç³»ç»Ÿï¼Œå¸®åŠ©å¼€å‘è€…è°ƒè¯•å’Œç”¨æˆ·äº†è§£åº”ç”¨è¿è¡Œæƒ…å†µ:

#### ğŸ” **å®æ—¶ä½ç½®æ—¥å¿—**
- **ä½ç½®æ›´æ–°**: è®°å½•GPSä½ç½®å˜åŒ–ï¼ŒåŒ…æ‹¬ç»çº¬åº¦å’Œç²¾åº¦
- **ç§»åŠ¨æ£€æµ‹**: å½“è·ç¦»è¶…è¿‡1ç±³æ—¶è®°å½•å®é™…ç§»åŠ¨è½¨è¿¹
- **é€Ÿåº¦è®¡ç®—**: å®æ—¶è®°å½•å½“å‰ç§»åŠ¨é€Ÿåº¦ï¼ˆé™æ­¢æ—¶æ˜¾ç¤º0ï¼‰

#### ğŸ›£ï¸ **å¯¼èˆªçŠ¶æ€æ—¥å¿—**
- **å¯¼èˆªå¼€å§‹**: è®°å½•èµ·ç‚¹ã€ç»ˆç‚¹åæ ‡å’Œå¯¼èˆªå¼€å§‹æ—¶é—´
- **è·¯å¾„è·Ÿè¸ª**: å®æ—¶è®°å½•ç”¨æˆ·çš„å®é™…è·¯å¾„ç‚¹
- **è·ç¦»ç»Ÿè®¡**: è®°å½•è§„åˆ’è·¯çº¿è·ç¦»ä¸å®é™…è¡Œé©¶è·ç¦»å¯¹æ¯”

#### ğŸ“Š **ç»Ÿè®¡æ•°æ®æ—¥å¿—**
- **è¡Œç¨‹æ€»ç»“**: å¯¼èˆªç»“æŸæ—¶è¾“å‡ºè¯¦ç»†ç»Ÿè®¡
  - æ€»å¯¼èˆªæ—¶é•¿ï¼ˆæ ¼å¼åŒ–æ˜¾ç¤ºï¼‰
  - å®é™…è¡Œé©¶è·ç¦»ï¼ˆç±³/å…¬é‡Œï¼‰
  - å¹³å‡ç§»åŠ¨é€Ÿåº¦
  - å½“å‰ç¬æ—¶é€Ÿåº¦
- **Path Analysis**: Records user path point count and trajectory completeness

#### ğŸ”§ **è°ƒè¯•ä¿¡æ¯**
- **APIè°ƒç”¨**: è®°å½•é«˜å¾·åœ°å›¾APIè°ƒç”¨çŠ¶æ€
- **æƒé™æ£€æŸ¥**: è®°å½•ä½ç½®æƒé™è·å–çŠ¶æ€
- **é”™è¯¯å¤„ç†**: è®°å½•å¼‚å¸¸å’Œé”™è¯¯ä¿¡æ¯

### ğŸ“± **æŸ¥çœ‹æ—¥å¿—**

#### Android Studioè°ƒè¯•
```bash
# è¿‡æ»¤åº”ç”¨æ—¥å¿—
adb logcat | grep "VeoNavigation"

# æŸ¥çœ‹ä½ç½®æ›´æ–°æ—¥å¿—
adb logcat | grep "Location update"

# æŸ¥çœ‹å¯¼èˆªç»Ÿè®¡æ—¥å¿—
adb logcat | grep "Navigation"
```

#### å…³é”®æ—¥å¿—æ ‡ç­¾
- `VeoNavigation`: ä¸»è¦åº”ç”¨åŠŸèƒ½æ—¥å¿—
- `Location update`: ä½ç½®æ›´æ–°å’Œç§»åŠ¨æ£€æµ‹
- `Navigation started`: å¯¼èˆªå¼€å§‹ä¿¡æ¯
- `Navigation stopped`: å¯¼èˆªç»“æŸç»Ÿè®¡
- `Trip Summary`: è¯¦ç»†è¡Œç¨‹æ€»ç»“æ•°æ®

### ğŸ’¡ **æ—¥å¿—ç¤ºä¾‹**
```
Location update: Latitude=39.9042, Longitude=116.4074, Accuracy=5.0m
Movement detection: Distance=15.2m, Current speed=1.2m/s
Navigation started: Start(39.9042,116.4074) -> End(39.9100,116.4200)
Trip statistics: Duration=15min30s, Actual distance=1.2km, Average speed=4.8km/h
```

## å¸¸è§é—®é¢˜

**é—®: åœ°å›¾æ— æ³•åŠ è½½**  
ç­”: æ£€æŸ¥é«˜å¾·åœ°å›¾APIå¯†é’¥é…ç½®å’Œç½‘ç»œè¿æ¥

**é—®: æ— æ³•è·å–ä½ç½®**  
ç­”: ç¡®è®¤å·²æˆäºˆä½ç½®æƒé™ï¼Œæ£€æŸ¥è®¾å¤‡GPSæ˜¯å¦å¼€å¯

**é—®: å¦‚ä½•æŸ¥çœ‹è¯¦ç»†æ—¥å¿—**  
ç­”: ä½¿ç”¨Android Studioè¿æ¥è®¾å¤‡ï¼Œåœ¨Logcatä¸­è¿‡æ»¤"VeoNavigation"æ ‡ç­¾

---

**æ„Ÿè°¢ä½¿ç”¨Veoå¯¼èˆªåº”ç”¨!** ğŸš—âœ¨
